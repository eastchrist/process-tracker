(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c1e090d"],{"13d5":function(e,t,a){"use strict";var i=a("23e7"),s=a("d58f").left,n=a("a640"),r=a("2d00"),l=a("605d"),o=n("reduce"),c=!l&&r>79&&r<83;i({target:"Array",proto:!0,forced:!o||c},{reduce:function(e){return s(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2c6e":function(e,t,a){},"5e42":function(e,t,a){e.exports={menuBg:"#34a9f9",menuText:"#bfcbd9",menuActiveText:"#507dff",tableTitleColor:"#fff",tableTitleBgColor:"#34a9f9",tableTitleFontFamily:'"Arial"',tableTitleFontFamilySize:"20",tableTitleBordureLength:"1",tableTitleBordureColor:"#000",tableSubTitleColor:"#fff",tableSubTitleBgColor:"#34a9f9",tableSubTitleFontFamily:'"Arial"',tableSubTitleFontFamilySize:"15",tableSubTitleBordureLength:"1",tableSubTitleBordureColor:"#000",tableColumnColor:"#fff",tableColumnBgColor:"#2b2f3a",tableColumnFontFamily:'"Arial"',tableColumnFontFamilySize:"12",tableColumnBordureLength:"1",tableColumnBordureColor:"#000"}},"60b2":function(e,t,a){"use strict";a("5e42")},"802b":function(e,t,a){"use strict";a("2c6e")},"847c":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-container"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"filter"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("tables.fonction.placeholder.placeholder1")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}}),!0===e.isAdmin?a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("tables.fonction.placeholder.placeholder4"),clearable:""},model:{value:e.listQuery.idFactory,callback:function(t){e.$set(e.listQuery,"idFactory",t)},expression:"listQuery.idFactory"}},e._l(e.TypeOptionsFactorys,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1):e._e(),!0===e.isAdmin?a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("tables.fonction.placeholder.placeholder5"),clearable:""},on:{change:e.optionAreachange},model:{value:e.listQuery.idArea,callback:function(t){e.$set(e.listQuery,"idArea",t)},expression:"listQuery.idArea"}},e._l(e.TypeOptionsAreas,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1):e._e(),!0!==e.isAdmin?a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("tables.fonction.placeholder.placeholder5"),clearable:""},on:{change:e.optionAreachange},model:{value:e.listQuery.idArea,callback:function(t){e.$set(e.listQuery,"idArea",t)},expression:"listQuery.idArea"}},e._l(e.TypeOptionsAreas,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name1,value:e.id}})})),1):e._e(),!0===e.isAdmin?a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("tables.fonction.placeholder.placeholder6"),clearable:""},on:{change:e.optionPlcchange},model:{value:e.listQuery.idPlc,callback:function(t){e.$set(e.listQuery,"idPlc",t)},expression:"listQuery.idPlc"}},e._l(e.TypeOptionsPlcs,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1):e._e(),!0!==e.isAdmin?a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("tables.fonction.placeholder.placeholder6"),clearable:""},on:{change:e.optionPlcchange},model:{value:e.listQuery.idPlc,callback:function(t){e.$set(e.listQuery,"idPlc",t)},expression:"listQuery.idPlc"}},e._l(e.TypeOptionsPlcs,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name1,value:e.id}})})),1):e._e(),!0===e.isAdmin?a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("tables.fonction.placeholder.placeholder7"),clearable:""},on:{change:e.optionEquipchange},model:{value:e.listQuery.idEquip,callback:function(t){e.$set(e.listQuery,"idEquip",t)},expression:"listQuery.idEquip"}},e._l(e.TypeOptionsEquips,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1):e._e(),!0!==e.isAdmin?a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("tables.fonction.placeholder.placeholder7"),clearable:""},on:{change:e.optionEquipchange},model:{value:e.listQuery.idEquip,callback:function(t){e.$set(e.listQuery,"idEquip",t)},expression:"listQuery.idEquip"}},e._l(e.TypeOptionsEquips,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name1,value:e.id}})})),1):e._e(),a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("tables.fonction.placeholder.placeholder2"),clearable:""},on:{change:e.optionTypechange},model:{value:e.listQuery.idType,callback:function(t){e.$set(e.listQuery,"idType",t)},expression:"listQuery.idType"}},e._l(e.TypeOptionsMeasureTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("tables.fonction.placeholder.placeholder3"),clearable:""},model:{value:e.listQuery.NbLost,callback:function(t){e.$set(e.listQuery,"NbLost",t)},expression:"listQuery.NbLost"}},e._l(e.TypeOptionsNbLost,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("div",{staticClass:"checkbox"},[a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px"},model:{value:e.listQuery.alarmLosses,callback:function(t){e.$set(e.listQuery,"alarmLosses",t)},expression:"listQuery.alarmLosses"}},[e._v(e._s(e.$t("tables.fonction.checkbox.checkbox1")))]),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px"},model:{value:e.listQuery.haveToBeCheckActif,callback:function(t){e.$set(e.listQuery,"haveToBeCheckActif",t)},expression:"listQuery.haveToBeCheckActif"}},[e._v(e._s(e.$t("tables.fonction.checkbox.checkbox2")))]),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px"},model:{value:e.listQuery.haveBeenCheck,callback:function(t){e.$set(e.listQuery,"haveBeenCheck",t)},expression:"listQuery.haveBeenCheck"}},[e._v(e._s(e.$t("tables.fonction.checkbox.checkbox3")))]),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px"},model:{value:e.listQuery.initialhaveNotBeenDone,callback:function(t){e.$set(e.listQuery,"initialhaveNotBeenDone",t)},expression:"listQuery.initialhaveNotBeenDone"}},[e._v(e._s(e.$t("tables.fonction.checkbox.checkbox4")))]),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px"},model:{value:e.listQuery.currenthaveNotBeenDone,callback:function(t){e.$set(e.listQuery,"currenthaveNotBeenDone",t)},expression:"listQuery.currenthaveNotBeenDone"}},[e._v(e._s(e.$t("tables.fonction.checkbox.checkbox5")))])],1),a("div",{staticClass:"bouton"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("tables.generique.button.button1")))]),!0===e.isAdmin?a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v(e._s(e.$t("tables.generique.button.button2")))]):e._e()],1),!0===e.isAdmin?a("div",{staticClass:"extra"},[a("ExportToExcel",{staticClass:"ExportToExcel",attrs:{className:"ExportToExcel",TableName:"Fonction"}}),a("ImportFromExcel",{staticClass:"ImportFromExcel",attrs:{className:"ImportFromExcel",TableName:"Fonction",TableList:e.list,defaultExcelHeater:e.listExcel,"on-success":e.handleSuccess,"before-upload":e.beforeUpload}}),a("UpdateFromNode",{staticClass:"UpdateFromNode",attrs:{className:"UpdateFromNode",TableName:"Fonction"},on:{UpdateFromNode:e.getList,UpdateFromNodeError:e.handleUpdateFromNodeError}})],1):e._e(),a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"draggableTable",staticStyle:{width:"100%"},attrs:{"row-key":"position",stripe:"",data:e.list,border:"",fit:"","highlight-current-row":"","header-cell-style":e.getDesignElementUiHeaderStyle,"cell-style":e.getDesignElementUiCellsStyle},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{label:e.$t("tables.fonction.title")}},[!0===e.isAdmin?a("el-table-column",{attrs:{label:"Drag","min-width":e.designTable.columns[0].width}},[a("PersoIcons",{staticClass:"draggable-handler",attrs:{name:"drag",width:"20",height:"20"}})],1):e._e(),!0===e.isManager?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs23"),"min-width":e.designTable.columns[1].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[!0===i.alarmLosses?a("PersoIcons",{attrs:{color:"red",name:"bug",width:"1em",height:"1em"}}):e._e()]}}],null,!1,2811602636)}):e._e(),!0===e.isManager?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs24"),"min-width":e.designTable.columns[2].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[!0!==i.haveToBeCheckActif?a("PersoIcons",{attrs:{name:"chart",color:"white",width:"1em",height:"1em"},on:{click:function(t){return e.handleModifyValidationStatus(i,!0,"haveToBeCheck")}}}):e._e(),!1!==i.haveToBeCheckActif?a("PersoIcons",{attrs:{name:"chart",color:"green",width:"1em",height:"1em"},on:{click:function(t){return e.handleModifyValidationStatus(i,!1,"haveToBeCheck")}}}):e._e()]}}],null,!1,2070650350)}):e._e(),!0===e.isManager?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs25"),"min-width":e.designTable.columns[3].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[!0===i.haveBeenCheck?a("PersoIcons",{attrs:{color:"blue",name:"back-top",width:"1em",height:"1em"}}):e._e()]}}],null,!1,1849368970)}):e._e(),!0===e.isManager?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs26"),"min-width":e.designTable.columns[4].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[!0===i.haveToBeValidated?a("PersoIcons",{attrs:{name:"edit",color:"blue",width:"1em",height:"1em"},on:{click:function(t){return e.handleModifyValidationStatus(i,!1,"haveToBeValidated")}}}):e._e()]}}],null,!1,2932648730)}):e._e(),!0!==e.isAdmin&&!0!==e.isManagerEdit?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs35"),type:"expand","min-width":e.designTable.columns[5].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-table",{key:e.subTableKey,staticStyle:{width:"100%"},attrs:{data:i.measurement,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:e.$t("tables.fonction.titleSub1")}},[a("el-table-column",{attrs:{label:e.$t("tables.fonction.subTable.champs1"),"min-width":"50px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.losses))])]}}],null,!0)}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.subTable.champs2"),"min-width":"50px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.measure1))])]}}],null,!0)}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.subTable.champs3"),"min-width":"50px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.ts1))])]}}],null,!0)}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.subTable.champs4"),"min-width":"50px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.measure2))])]}}],null,!0)}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.subTable.champs5"),"min-width":"50px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.ts2))])]}}],null,!0)}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.subTable.champs6"),"min-width":"50px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.measure3))])]}}],null,!0)}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.subTable.champs7"),"min-width":"50px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.ts3))])]}}],null,!0)}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.subTable.champs8"),"min-width":"300px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.comment))])]}}],null,!0)})],1)],1)]}}],null,!1,3506033486)}):e._e(),!0===e.isManager||!0===e.isOperator?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs22"),"min-width":e.designTable.columns[6].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{staticClass:"link-type",on:{click:function(t){return e.handleLinkNewMeasure(i)}}},[e._v(e._s(i.name))])]}}],null,!1,4055169911)}):e._e(),!0===e.isAdmin||!0===e.isManagerEdit?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs3"),"min-width":e.designTable.columns[7].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{staticClass:"link-type",on:{click:function(t){return e.handleUpdate(i)}}},[e._v(e._s(i.name))])]}}],null,!1,2271801250)}):e._e(),a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs4"),"min-width":e.designTable.columns[8].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.measureType.name))])]}}])}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs37"),"min-width":e.designTable.columns[9].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formatedDate(i.lastCheckDate)))])]}}])}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs27"),"min-width":e.designTable.columns[10].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[null!==i.currentLosses?a("span",[e._v(e._s(i.currentLosses))]):e._e(),null===i.currentLosses?a("span",[e._v(e._s(i.firstLosses))]):e._e()]}}])}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs28"),"min-width":e.designTable.columns[11].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[null!==i.currentLossesPrice?a("span",[e._v(e._s(i.currentLossesPrice))]):e._e(),null===i.currentLossesPrice?a("span",[e._v(e._s(i.firstLossesPrice))]):e._e()]}}])}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs29"),"min-width":e.designTable.columns[12].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[""!==i.currentAnnualLosses?a("span",[e._v(e._s(i.currentAnnualLosses))]):e._e(),""===i.currentAnnualLosses?a("span",[e._v(e._s(i.firstAnnualLosses))]):e._e()]}}])}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs30"),"min-width":e.designTable.columns[13].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[""!==i.currentAnnualPrice?a("span",[e._v(e._s(i.currentAnnualPrice))]):e._e(),""===i.currentAnnualPrice?a("span",[e._v(e._s(i.firstAnnualPrice))]):e._e()]}}])}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs5"),"min-width":e.designTable.columns[14].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.tankAreaDefEmptying.name1))])]}}])}),a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs6"),"min-width":e.designTable.columns[15].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.tankAreaDefFilling.name1))])]}}])}),!0===e.isAdmin||!0===e.isManagerEdit||!0===e.isManager?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs34"),"min-width":e.designTable.columns[16].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.nbLosse))])]}}],null,!1,1174027086)}):e._e(),!0===e.isAdmin||!0===e.isManagerEdit?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs7"),"min-width":e.designTable.columns[17].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.freqCheck))])]}}],null,!1,734549634)}):e._e(),!0===e.isAdmin||!0===e.isManagerEdit?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs8"),"min-width":e.designTable.columns[18].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.freqDelay))])]}}],null,!1,819976529)}):e._e(),!0===e.isAdmin||!0===e.isManagerEdit?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs9"),"min-width":e.designTable.columns[19].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.maxLosse))])]}}],null,!1,3088799830)}):e._e(),!0===e.isAdmin?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs15"),"min-width":e.designTable.columns[20].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.equip.plc.area.factory.name))])]}}],null,!1,1668235239)}):e._e(),!0===e.isAdmin?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs16"),"min-width":e.designTable.columns[21].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.equip.plc.area.name))])]}}],null,!1,2035446941)}):e._e(),!0===e.isAdmin?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs17"),"min-width":e.designTable.columns[22].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.equip.plc.name))])]}}],null,!1,1137183172)}):e._e(),!0===e.isAdmin?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs18"),"min-width":e.designTable.columns[23].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.equip.name))])]}}],null,!1,55307957)}):e._e(),!0===e.isAdmin?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs10"),"min-width":e.designTable.columns[24].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleUploadPicture(i,"picture1")}}},[e._v(e._s(e.$t("tables.generique.button.button12")))])]}}],null,!1,3104608395)}):e._e(),!0===e.isAdmin?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs11"),"min-width":e.designTable.columns[25].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleUploadPicture(i,"picture2")}}},[e._v(e._s(e.$t("tables.generique.button.button12")))])]}}],null,!1,94174760)}):e._e(),!0===e.isAdmin?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs20"),"min-width":e.designTable.columns[26].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[!0!==i.haveToBeCheckActif?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleModifyValidationStatus(i,!0,"haveToBeCheck")}}},[e._v(e._s(e.$t("tables.fonction.button.button1")))]):e._e(),!1!==i.haveToBeCheckActif?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleModifyValidationStatus(i,!1,"haveToBeCheck")}}},[e._v(e._s(e.$t("tables.fonction.button.button1")))]):e._e(),!0!==i.haveBeenCheck?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleModifyValidationStatus(i,!0,"haveBeenCheck")}}},[e._v(e._s(e.$t("tables.fonction.button.button2")))]):e._e(),!1!==i.haveBeenCheck?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleModifyValidationStatus(i,!1,"haveBeenCheck")}}},[e._v(e._s(e.$t("tables.fonction.button.button2")))]):e._e(),!0!==i.modeAutoCheckActif?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleModifyValidationStatus(i,!0,"modeAutoCheckActif")}}},[e._v(e._s(e.$t("tables.fonction.button.button3")))]):e._e(),!1!==i.modeAutoCheckActif?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleModifyValidationStatus(i,!1,"modeAutoCheckActif")}}},[e._v(e._s(e.$t("tables.fonction.button.button3")))]):e._e(),!0!==i.enabled?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleModifyValidationStatus(i,!0,"enabled")}}},[e._v(e._s(e.$t("tables.fonction.button.button4")))]):e._e(),!1!==i.enabled?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleModifyValidationStatus(i,!1,"enabled")}}},[e._v(e._s(e.$t("tables.fonction.button.button4")))]):e._e()]}}],null,!1,1581765426)}):e._e(),!0===e.isAdmin?a("el-table-column",{attrs:{label:e.$t("tables.fonction.champs.champs21"),"min-width":e.designTable.columns[27].width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,s=t.$index;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpdate(i)}}},[e._v(e._s(e.$t("tables.generique.button.button7")))]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.handleDelete(i,s)}}},[e._v(e._s(e.$t("tables.generique.button.button8")))])]}}],null,!1,2140863490)}):e._e()],1)],1)],1),a("div",{staticClass:"pagination"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1),a("FormEditFonction",{attrs:{className:"Fonction",TableName:"Fonction",dialogFormVisible:e.dialogFormVisible,title:e.textMap[e.dialogStatus],textMap:e.textMap,dialogStatus:e.dialogStatus,rules:e.rules,isAdmin:e.isAdmin,isManagerEdit:e.isManagerEdit,Type1Options:e.Type1Options,Type2Options:e.TypeOptionsMeasureTypes,Type3Options:e.TypeOptionsFactorys,Type4Options:e.TypeOptionsAreas,Type5Options:e.TypeOptionsPlcs,Type6Options:e.TypeOptionsEquips,Type7Options:e.TypeOptionsTankAreaDefEmptyings,Type8Options:e.TypeOptionsTankAreaDefFillings,tempData:e.tempData},on:{EditFormCancel:e.EditFormCancel,EditFormAdd:e.EditFormAdd,EditFormUpdate:e.EditFormUpdate}}),a("FormUpdateNodeError",{attrs:{dialogFormErrorVisible:e.dialogFormErrorVisible,title:e.$t("tables.fonction.titleError"),tempError:e.tempError},on:{EditFormCancel:e.EditFormErrorCancel}})],1)])},s=[],n=a("b85c"),r=a("1da1"),l=a("d4ec"),o=a("bee2"),c=a("262e"),u=a("2caf"),d=(a("b0c0"),a("d81d"),a("13d5"),a("d3b7"),a("25f0"),a("fb6a"),a("a434"),a("c740"),a("96cf"),a("9ab4")),p=a("1b40"),m=a("2ef0"),h=a("d257"),f=a("aa47"),b=a("d286"),y=a("f3b2"),v=a("a1df"),k=a("744b"),g=a("ec16"),_=a("34a7"),A=a("333d"),w=a("a2d2"),T=a("446c"),O=a("3796"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{class:e.className,attrs:{title:e.title,visible:e.dialogFormVisible,"before-close":e.beforeClose},on:{"update:visible":function(t){e.dialogFormVisible=t},open:e.beforeOpen}},[a("el-form",{ref:"dataForm",staticStyle:{width:"95%","margin-left":"2%"},attrs:{rules:e.rules,model:e.tempData,"label-position":"left","label-width":"15%"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("tables.fonction.edit.champs3"),prop:"name"}},[a("el-input",{attrs:{disabled:!0===e.isManagerEdit},model:{value:e.tempData.name,callback:function(t){e.$set(e.tempData,"name",t)},expression:"tempData.name"}})],1),a("el-form-item",{attrs:{label:e.$t("tables.fonction.edit.champs4"),prop:"idType"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select",disabled:!0},model:{value:e.tempData.measureType.name,callback:function(t){e.$set(e.tempData.measureType,"name",t)},expression:"tempData.measureType.name"}},e._l(e.Type2Options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),""!==e.tempData.tankAreaDefEmptying.name1?a("el-form-item",{attrs:{label:e.$t("tables.fonction.edit.champs5"),prop:"idAreaSource"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select",disabled:!0},model:{value:e.tempData.tankAreaDefEmptying.name1,callback:function(t){e.$set(e.tempData.tankAreaDefEmptying,"name1",t)},expression:"tempData.tankAreaDefEmptying.name1"}},e._l(e.Type6Options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name1,value:e.id}})})),1)],1):e._e(),""!==e.tempData.tankAreaDefFilling.name1?a("el-form-item",{attrs:{label:e.$t("tables.fonction.edit.champs6"),prop:"idAreaDest"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select",disabled:!0},model:{value:e.tempData.tankAreaDefFilling.name1,callback:function(t){e.$set(e.tempData.tankAreaDefFilling,"name1",t)},expression:"tempData.tankAreaDefFilling.name1"}},e._l(e.Type7Options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name1,value:e.id}})})),1)],1):e._e(),!0===e.isAdmin||!0===e.isManagerEdit?a("el-form-item",{attrs:{label:e.$t("tables.fonction.edit.champs21")}},[a("table",{staticStyle:{width:"60%"}},[a("tr",[a("th",[e._v(e._s(e.$t("tables.fonction.edit.champs20")))]),a("th",[e._v(e._s(e.$t("tables.fonction.edit.champs9")))]),a("th",[e._v(e._s(e.$t("tables.fonction.edit.champs7")))]),a("th",[e._v(e._s(e.$t("tables.fonction.edit.champs8")))])]),a("tr",[a("td",[a("el-form-item",{attrs:{prop:"nbLosse"}},[a("el-input",{model:{value:e.tempData.nbLosse,callback:function(t){e.$set(e.tempData,"nbLosse",t)},expression:"tempData.nbLosse"}})],1)],1),a("td",[a("el-form-item",{attrs:{prop:"maxLosse"}},[a("el-input",{model:{value:e.tempData.maxLosse,callback:function(t){e.$set(e.tempData,"maxLosse",t)},expression:"tempData.maxLosse"}})],1)],1),a("td",[a("el-form-item",{attrs:{prop:"freqCheck"}},[a("el-input",{model:{value:e.tempData.freqCheck,callback:function(t){e.$set(e.tempData,"freqCheck",t)},expression:"tempData.freqCheck"}})],1)],1),a("td",[a("el-form-item",{attrs:{prop:"freqDelay"}},[a("el-input",{model:{value:e.tempData.freqDelay,callback:function(t){e.$set(e.tempData,"freqDelay",t)},expression:"tempData.freqDelay"}})],1)],1)])])]):e._e(),!0===e.isAdmin?a("el-form-item",{attrs:{label:e.$t("tables.fonction.edit.champs22")}},[a("table",{staticStyle:{width:"90%"}},[a("tr",[a("th",{staticStyle:{width:"10%"}},[e._v(e._s(e.$t("tables.fonction.edit.champs23")))]),a("th",{staticStyle:{width:"20%"}},[e._v(e._s(e.$t("tables.fonction.edit.champs24")))]),a("th",{staticStyle:{width:"20%"}},[e._v(e._s(e.$t("tables.fonction.edit.champs25")))]),a("th",{staticStyle:{width:"20%"}},[e._v(e._s(e.$t("tables.fonction.edit.champs26")))]),a("th",{staticStyle:{width:"20%"}},[e._v(e._s(e.$t("tables.fonction.edit.champs27")))])]),a("tr",[a("td",[e._v(e._s(e.$t("tables.fonction.edit.champs28")))]),a("td",[a("el-form-item",{attrs:{prop:"firstLosses"}},[a("el-input",{model:{value:e.tempData.firstLosses,callback:function(t){e.$set(e.tempData,"firstLosses",t)},expression:"tempData.firstLosses"}})],1)],1),a("td",[a("el-form-item",{attrs:{prop:"firstLossesPrice"}},[a("el-input",{model:{value:e.tempData.firstLossesPrice,callback:function(t){e.$set(e.tempData,"firstLossesPrice",t)},expression:"tempData.firstLossesPrice"}})],1)],1),a("td",[a("el-form-item",{attrs:{prop:"firstAnnualLosses"}},[a("el-input",{model:{value:e.tempData.firstAnnualLosses,callback:function(t){e.$set(e.tempData,"firstAnnualLosses",t)},expression:"tempData.firstAnnualLosses"}})],1)],1),a("td",[a("el-form-item",{attrs:{prop:"firstAnnualPrice"}},[a("el-input",{model:{value:e.tempData.firstAnnualPrice,callback:function(t){e.$set(e.tempData,"firstAnnualPrice",t)},expression:"tempData.firstAnnualPrice"}})],1)],1)]),a("tr",[a("td",[e._v(e._s(e.$t("tables.fonction.edit.champs29")))]),a("td",[a("el-form-item",{attrs:{prop:"currentLosses"}},[a("el-input",{model:{value:e.tempData.currentLosses,callback:function(t){e.$set(e.tempData,"currentLosses",t)},expression:"tempData.currentLosses"}})],1)],1),a("td",[a("el-form-item",{attrs:{prop:"currentLossesPrice"}},[a("el-input",{model:{value:e.tempData.currentLossesPrice,callback:function(t){e.$set(e.tempData,"currentLossesPrice",t)},expression:"tempData.currentLossesPrice"}})],1)],1),a("td",[a("el-form-item",{attrs:{prop:"currentAnnualLosses"}},[a("el-input",{model:{value:e.tempData.currentAnnualLosses,callback:function(t){e.$set(e.tempData,"currentAnnualLosses",t)},expression:"tempData.currentAnnualLosses"}})],1)],1),a("td",[a("el-form-item",{attrs:{prop:"currentAnnualPrice"}},[a("el-input",{model:{value:e.tempData.currentAnnualPrice,callback:function(t){e.$set(e.tempData,"currentAnnualPrice",t)},expression:"tempData.currentAnnualPrice"}})],1)],1)])])]):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCancel}},[e._v(e._s(e.$t("tables.generique.button.button5")))]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v(e._s(e.$t("tables.generique.button.button6")))])],1)],1)},x=[],D=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){return Object(l["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"beforeOpen",value:function(){console.log("beforeOpen")}},{key:"beforeClose",value:function(){this.$emit("EditFormCancel")}},{key:"handleCancel",value:function(){this.$emit("EditFormCancel")}},{key:"createData",value:function(){var e=this;this.$refs.dataForm.validate((function(t){t&&e.$emit("EditFormAdd",e.tempData)}))}},{key:"updateData",value:function(){var e=this;this.$refs.dataForm.validate((function(t){t&&e.$emit("EditFormUpdate",e.tempData)}))}}]),a}(p["c"]);Object(d["a"])([Object(p["b"])({default:""})],D.prototype,"className",void 0),Object(d["a"])([Object(p["b"])({default:""})],D.prototype,"title",void 0),Object(d["a"])([Object(p["b"])({default:!1})],D.prototype,"isAdmin",void 0),Object(d["a"])([Object(p["b"])({default:!1})],D.prototype,"isManagerEdit",void 0),Object(d["a"])([Object(p["b"])({default:{}})],D.prototype,"textMap",void 0),Object(d["a"])([Object(p["b"])({default:{}})],D.prototype,"rules",void 0),Object(d["a"])([Object(p["b"])({default:{}})],D.prototype,"dialogStatus",void 0),Object(d["a"])([Object(p["b"])({default:!1})],D.prototype,"dialogFormVisible",void 0),Object(d["a"])([Object(p["b"])({default:{}})],D.prototype,"Type1Options",void 0),Object(d["a"])([Object(p["b"])({default:{}})],D.prototype,"Type2Options",void 0),Object(d["a"])([Object(p["b"])({default:{}})],D.prototype,"Type3Options",void 0),Object(d["a"])([Object(p["b"])({default:{}})],D.prototype,"Type4Options",void 0),Object(d["a"])([Object(p["b"])({default:{}})],D.prototype,"Type5Options",void 0),Object(d["a"])([Object(p["b"])({default:{}})],D.prototype,"Type6Options",void 0),Object(d["a"])([Object(p["b"])({default:{}})],D.prototype,"Type7Options",void 0),Object(d["a"])([Object(p["b"])({default:{}})],D.prototype,"tempData",void 0),D=Object(d["a"])([Object(p["a"])({name:"EditFonction",components:{}})],D);var E=D,L=E,F=(a("802b"),a("2877")),$=Object(F["a"])(L,C,x,!1,null,"18b32cc2",null),Q=$.exports,j=a("f769"),S=a("cc3d"),P=a("2f7d"),q=[{key:!0,displayName:"True"},{key:!1,displayName:"False"}],B={update:"Edit",create:"Create"},M=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.designTable=S["i"],e.tableKey=0,e.subTableKey=0,e.list=[],e.total=0,e.oldList=[],e.newList=[],e.listLoading=!0,e.listQuery=b["d"],e.listQueryFactory=y["c"],e.listQueryArea=v["c"],e.listQueryPlc=k["c"],e.listQueryEquip=g["c"],e.listQueryMeasureType=_["c"],e.listQueryAreaidMem="",e.listQueryPlcidMem="",e.listQueryEquipidMem="",e.listExcel=b["c"],e.Type1Options=q,e.TypeOptionsMeasureTypes=[],e.TypeOptionsNbLost=[],e.TypeOptionsFactorys=[],e.TypeOptionsAreas=[],e.TypeOptionsPlcs=[],e.TypeOptionsEquips=[],e.TypeOptionsTankAreaDefEmptyings=[],e.TypeOptionsTankAreaDefFillings=[],e.dialogFormVisible=!1,e.dialogFormErrorVisible=!1,e.tempError="",e.dialogStatus="",e.textMap=B,e.rules=b["e"],e.tempData=b["b"],e.sortable=null,e}return Object(o["a"])(a,[{key:"formatedDate",value:function(e){return Object(h["a"])(e)}},{key:"getDesignElementUiHeaderStyle",value:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;return Object(P["b"])(t,a,this.designTable,this.total)}},{key:"getDesignElementUiCellsStyle",value:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;return Object(P["a"])(t,a,this.designTable,this.total)}},{key:"created",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.initBasicOptionListParameters(),this.getOptionList(),this.getList();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initBasicOptionListParameters",value:function(){this.listQueryFactory.page=1,this.listQueryArea.page=1,this.listQueryPlc.page=1,this.listQueryEquip.page=1,this.listQueryMeasureType.page=1,this.listQueryFactory.limit=1e4,this.listQueryArea.limit=1e4,this.listQueryPlc.limit=1e4,this.listQueryEquip.limit=1e4,this.listQueryMeasureType.limit=1e4,this.listQueryFactory.name=void 0,this.listQueryArea.name=void 0,this.listQueryPlc.name=void 0,this.listQueryEquip.name=void 0,this.listQueryMeasureType.name=void 0,this.isOperator?this.listQuery.haveToBeCheckActif=!0:this.listQuery.haveToBeCheckActif=void 0}},{key:"getOptionListFactory",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isAdmin?this.listQueryFactory.id=void 0:(this.isManagerEdit||this.isManager||this.isOperator)&&(this.listQueryFactory.id=this.idFactory),e.next=3,Object(y["f"])(this.listQueryFactory);case 3:t=e.sent,this.TypeOptionsFactorys=t.data.rows;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getOptionListArea",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(v["f"])(t);case 2:a=e.sent,this.listQueryAreaidMem=this.listQuery.idArea,this.TypeOptionsAreas=a.data.rows;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOptionListPlc",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(k["f"])(t);case 2:a=e.sent,this.listQueryPlcidMem=this.listQuery.idPlc,this.TypeOptionsPlcs=a.data.rows;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOptionListEquip",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(g["f"])(t);case 2:a=e.sent,this.listQueryEquipidMem=this.listQuery.idEquip,this.TypeOptionsEquips=a.data.rows;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOptionListMeasureTypes",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(_["e"])(this.listQueryMeasureType);case 2:t=e.sent,this.TypeOptionsMeasureTypes=t.data.rows;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getOptionList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getOptionListFactory(),this.isAdmin?(this.listQuery.idFactory=void 0,this.listQueryArea.idFactory=void 0,this.listQueryPlc.idFactory=void 0,this.listQueryEquip.idFactory=void 0):(this.isManagerEdit||this.isManager||this.isOperator)&&(this.listQuery.idFactory=this.idFactory,this.listQueryArea.idFactory=this.idFactory,this.listQueryPlc.idFactory=this.idFactory,this.listQueryEquip.idFactory=this.idFactory),this.getOptionListArea(this.listQueryArea),this.getOptionListPlc(this.listQueryPlc),this.getOptionListEquip(this.listQueryEquip),this.getOptionListMeasureTypes();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listLoading=!0,e.next=3,Object(b["h"])(this.listQuery);case 3:t=e.sent,a=t.data,this.list=a.rows,this.total=a.count,this.oldList=this.list.map((function(e){return e.position})),this.TypeOptionsNbLost=this.list.reduce((function(e,t){var a=t.nbLosse;return e[a]={item:a.toString(),value:a.toString(),name:a.toString()},e}),{}),this.newList=this.oldList.slice(),this.$nextTick((function(){i.setSort()})),this.listLoading=!1;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"dragUpdateDatabaseList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i,s,r,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=[],a=0,i=Object(n["a"])(this.list);try{for(i.s();!(s=i.n()).done;)r=s.value,l={id:r.id,position:a,name:r.name,idType:r.idType,idAreaSource:r.idAreaSource,idAreaDest:r.idAreaDest,alarmLosses:r.alarmLosses,haveToBeValidated:r.haveToBeValidated,lastCheckDate:r.lastCheckDate,firstLosses:r.firstLosses,firstLossesPrice:r.firstLossesPrice,currentLosses:r.currentLosses,currentLossesPrice:r.currentLossesPrice,freqCheck:r.freqCheck,freqDelay:r.freqDelay,nbLosse:r.nbLosse,maxLosse:r.maxLosse,haveToBeCheck:r.haveToBeCheck,haveToBeCheckActif:r.haveToBeCheckActif,haveBeenCheck:r.haveBeenCheck,modeAutoCheckActif:r.modeAutoCheckActif,enabled:r.enabled,method:r.method,picture1:r.picture1,picture2:r.picture2,idProjectLink:r.idProjectLink,idProjectLinkSelected:r.idProjectLinkSelected,projectPercentRecovery:r.projectPercentRecovery,idEquip:r.idEquip,idEquipIndex:r.idEquipIndex,measureType:r.measureType,tankAreaDefEmptying:r.tankAreaDefEmptying,tankAreaDefFilling:r.tankAreaDefFilling},t.push(l),a++}catch(o){i.e(o)}finally{i.f()}return e.next=6,Object(b["j"])(t);case 6:e.sent;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setSort",value:function(){var e=this,t=this.$refs.draggableTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];this.sortable=f["a"].create(t,{ghostClass:"sortable-ghost",onEnd:function(t){if("undefined"!==typeof t.oldIndex&&"undefined"!==typeof t.newIndex){var a=e.list.splice(t.oldIndex,1)[0];e.list.splice(t.newIndex,0,a),e.dragUpdateDatabaseList()}}})}},{key:"EditFormCancel",value:function(){this.dialogFormVisible=!1}},{key:"EditFormAdd",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={id:t.id,position:t.position,name:t.name,idType:t.idType,idAreaSource:t.idAreaSource,idAreaDest:t.idAreaDest,alarmLosses:void 0,haveToBeValidated:void 0,lastCheckDate:t.lastCheckDate,firstLosses:t.firstLosses,firstLossesPrice:t.firstLossesPrice,currentLosses:t.currentLosses,currentLossesPrice:t.currentLossesPrice,freqCheck:t.freqCheck,freqDelay:t.freqDelay,nbLosse:t.nbLosse,maxLosse:t.maxLosse,haveToBeCheck:t.haveToBeCheck,haveToBeCheckActif:t.haveToBeCheckActif,haveBeenCheck:t.haveBeenCheck,modeAutoCheckActif:t.modeAutoCheckActif,enabled:t.enabled,method:t.method,picture1:t.picture1,picture2:t.picture2,idProjectLink:t.idProjectLink,idProjectLinkSelected:t.idProjectLinkSelected,projectPercentRecovery:t.projectPercentRecovery,idEquip:t.idEquip,idEquipIndex:t.idEquipIndex,measureType:{id:t.measureType.id,position:t.measureType.position,name:t.measureType.name,value:t.measureType.value},tankAreaDefEmptying:{id:t.tankAreaDefEmptying.id,idNode:t.tankAreaDefEmptying.idNode,position:t.tankAreaDefEmptying.position,name:t.tankAreaDefEmptying.name,name1:t.tankAreaDefEmptying.name1,dataComment:t.tankAreaDefEmptying.dataComment,dataType:t.tankAreaDefEmptying.dataType,options:t.tankAreaDefEmptying.options},tankAreaDefFilling:{id:t.tankAreaDefFilling.id,idNode:t.tankAreaDefFilling.idNode,position:t.tankAreaDefFilling.position,name:t.tankAreaDefFilling.name,name1:t.tankAreaDefFilling.name1,dataComment:t.tankAreaDefFilling.dataComment,dataType:t.tankAreaDefFilling.dataType,options:t.tankAreaDefFilling.options}},e.next=3,Object(b["i"])(t.id,a);case 3:i=e.sent,s=i.data,this.list.unshift(s.rows[0]),this.dialogFormVisible=!1,this.$notify({title:this.$t("notify.notify2.title")+"",message:this.$t("notify.notify2.message")+"",type:"success",duration:2e3});case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"EditFormUpdate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,i,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={id:t.id,position:t.position,name:t.name,idType:t.idType,idAreaSource:t.idAreaSource,idAreaDest:t.idAreaDest,alarmLosses:void 0,haveToBeValidated:void 0,lastCheckDate:t.lastCheckDate,firstLosses:t.firstLosses,firstLossesPrice:t.firstLossesPrice,currentLosses:t.currentLosses,currentLossesPrice:t.currentLossesPrice,freqCheck:t.freqCheck,freqDelay:t.freqDelay,nbLosse:t.nbLosse,maxLosse:t.maxLosse,haveToBeCheck:t.haveToBeCheck,haveToBeCheckActif:t.haveToBeCheckActif,haveBeenCheck:t.haveBeenCheck,modeAutoCheckActif:t.modeAutoCheckActif,enabled:t.enabled,method:t.method,picture1:t.picture1,picture2:t.picture2,idProjectLink:t.idProjectLink,idProjectLinkSelected:t.idProjectLinkSelected,projectPercentRecovery:t.projectPercentRecovery,idEquip:t.idEquip,idEquipIndex:t.idEquipIndex,measureType:void 0,tankAreaDefEmptying:void 0,tankAreaDefFilling:void 0},e.next=3,Object(b["i"])(t.id,a);case 3:i=e.sent,s=i.data,n=this.list.findIndex((function(e){return e.id===s.rows[0].id})),this.list.splice(n,1,s.rows[0]),this.dialogFormVisible=!1,this.$notify({title:this.$t("notify.notify3.title")+"",message:this.$t("notify.notify3.message")+"",type:"success",duration:2e3});case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"EditFormErrorCancel",value:function(){this.dialogFormErrorVisible=!1}},{key:"handleUpdateFromNodeError",value:function(e){this.tempError=e,this.dialogFormErrorVisible=!0}},{key:"resettempData",value:function(){this.tempData=Object(m["cloneDeep"])(b["b"])}},{key:"handleModifyValidationStatus",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a,i){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s="","haveToBeCheck"===i&&(s=this.$t("tables.fonction.message.message1")+"",t.haveToBeCheck=a,t.haveToBeCheckActif=a),"haveBeenCheck"===i&&(s=this.$t("tables.fonction.message.message2")+"",t.haveBeenCheck=a),"modeAutoCheckActif"===i&&(s=this.$t("tables.fonction.message.message3")+"",t.modeAutoCheckActif=a),"haveToBeValidated"===i&&(s=this.$t("tables.fonction.message.message4")+"",t.haveToBeValidated=a,t.haveToBeCheck=a,t.haveBeenCheck=a),"enabled"===i&&(s=this.$t("tables.fonction.message.message5")+"",t.enabled=a),e.next=8,Object(b["i"])(t.id,{id:t.id,haveToBeCheck:t.haveToBeCheck,haveBeenCheck:t.haveBeenCheck,haveToBeValidated:t.haveToBeValidated,modeAutoCheckActif:t.modeAutoCheckActif,enabled:t.enabled});case 8:n=e.sent,n.data,s+=a?"True":"False",this.$message({message:s,type:"success"});case 12:case"end":return e.stop()}}),e,this)})));function t(t,a,i){return e.apply(this,arguments)}return t}()},{key:"handleDelete",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(b["g"])(t.id,{id:t.id});case 2:i=e.sent,i.data,this.$notify({title:this.$t("notify.notify1.title")+"",message:this.$t("notify.notify1.message")+"",type:"success",duration:2e3}),this.list.splice(a,1);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"handleUpdate",value:function(e){this.tempData=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0}},{key:"handleCreate",value:function(){this.resettempData(),this.dialogStatus="create",this.dialogFormVisible=!0}},{key:"handleLinkNewMeasure",value:function(e){this.$router.push({name:"/cartography/OperatorMeasure",params:{idFactory:e.equip.plc.area.idFactory,idArea:e.equip.plc.area.id,idPlc:e.equip.plc.id,idFonction:e.id}})}},{key:"handleUploadPicture",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("TOTO");case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"handleFilter",value:function(){this.listQuery.page=1,""===this.listQuery.idFactory?(this.listQuery.idFactory=void 0,this.listQueryArea.idFactory=void 0,this.listQueryEquip.idFactory=void 0):(this.listQueryArea.idFactory=this.listQuery.idFactory,this.listQueryEquip.idFactory=this.listQuery.idFactory),""===this.listQuery.idArea?(this.listQuery.idArea=void 0,this.listQueryPlc.idArea=void 0,this.listQueryEquip.idArea=void 0):(this.listQueryPlc.idArea=this.listQuery.idArea,this.listQueryEquip.idArea=this.listQuery.idArea),""===this.listQuery.idPlc?(this.listQuery.idPlc=void 0,this.listQueryEquip.idPlc=void 0):this.listQueryEquip.idPlc=this.listQuery.idPlc,""===this.listQuery.idEquip?(this.listQuery.idEquip=void 0,this.listQueryEquip.idEquip=void 0):this.listQueryEquip.idEquip=this.listQuery.idEquip,this.listQuery.idArea!==this.listQueryAreaidMem&&this.getOptionListArea(this.listQueryArea),this.listQuery.idPlc!==this.listQueryPlcidMem&&this.getOptionListPlc(this.listQueryPlc),this.listQuery.idEquip!==this.listQueryEquipidMem&&this.getOptionListEquip(this.listQueryEquip),!1===this.listQuery.alarmLosses&&(this.listQuery.alarmLosses=void 0),!1===this.listQuery.haveBeenCheck&&(this.listQuery.haveBeenCheck=void 0),!1===this.listQuery.haveToBeCheckActif&&(this.listQuery.haveToBeCheckActif=void 0),!1===this.listQuery.initialhaveNotBeenDone&&(this.listQuery.initialhaveNotBeenDone=void 0),!1===this.listQuery.currenthaveNotBeenDone&&(this.listQuery.currenthaveNotBeenDone=void 0),this.getList()}},{key:"sortChange",value:function(e){e.prop,e.order}},{key:"optionAreachange",value:function(){this.handleFilter()}},{key:"optionPlcchange",value:function(){this.handleFilter()}},{key:"optionEquipchange",value:function(){this.handleFilter()}},{key:"optionTypechange",value:function(){this.handleFilter()}},{key:"beforeUpload",value:function(e){var t=e.size/1024/1024<1;return!!t||(this.$message({message:this.$t("message.uploadBigFile")+"",type:"warning"}),!1)}},{key:"handleSuccess",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.results,t.header,e.next=3,Object(b["j"])(a);case 3:i=e.sent,i.data,this.getList();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),a}(p["c"]);Object(d["a"])([Object(p["b"])({default:""})],M.prototype,"idFactory",void 0),Object(d["a"])([Object(p["b"])({default:!1})],M.prototype,"isAdmin",void 0),Object(d["a"])([Object(p["b"])({default:!1})],M.prototype,"isManager",void 0),Object(d["a"])([Object(p["b"])({default:!1})],M.prototype,"isManagerEdit",void 0),Object(d["a"])([Object(p["b"])({default:!1})],M.prototype,"isOperator",void 0),M=Object(d["a"])([Object(p["a"])({name:"TableAllUserFonction",components:{UpdateFromNode:w["a"],ExportToExcel:T["a"],ImportFromExcel:O["a"],FormEditFonction:Q,FormUpdateNodeError:j["a"],Pagination:A["a"]},filters:{}})],M);var N=M,U=N,V=(a("60b2"),a("86ec"),Object(F["a"])(U,i,s,!1,null,"7e716168",null));t["a"]=V.exports},"86ec":function(e,t,a){"use strict";a("b5fc")},b5fc:function(e,t,a){},e15b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"factoryCartoFonction-container"},[a("TableAllUserFonction",{attrs:{idFactory:e.UserCurrent.idFactory,isAdmin:e.isAdmin,isManagerEdit:e.isManagerEdit,isManager:e.isManager,isOperator:e.isOperator}})],1)},s=[],n=a("d4ec"),r=a("bee2"),l=a("262e"),o=a("2caf"),c=(a("caad"),a("2532"),a("9ab4")),u=a("1b40"),d=a("9dba"),p=a("847c"),m=a("b8f0"),h=m["a"],f=function(e){Object(l["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.UserCurrent=h,e.isAdmin=!1,e.isManager=!1,e.isManagerEdit=!1,e.isOperator=!1,e}return Object(r["a"])(a,[{key:"onChartDataChange",value:function(e){console.log("User_onChartDataChange"),this.updateUser()}},{key:"updateUser",value:function(){""!==d["a"].username&&null!==d["a"].username?(this.UserCurrent={token:d["a"].token,username:d["a"].username,email:d["a"].email,idFactory:d["a"].idFactory,factoryName:d["a"].factoryName,roles:d["a"].roles},this.isManagerEdit=!1,this.UserCurrent.roles.includes("admin")&&(this.isAdmin=!0),this.UserCurrent.roles.includes("manager")&&(this.isManager=!0),this.UserCurrent.roles.includes("operator")&&(this.isOperator=!0)):this.UserCurrent={token:"",username:"",email:"",idFactory:"",factoryName:"",roles:[]}}},{key:"created",value:function(){this.updateUser()}}]),a}(u["c"]);Object(c["a"])([Object(u["d"])("this.UserCurrent",{deep:!0})],f.prototype,"onChartDataChange",null),f=Object(c["a"])([Object(u["a"])({name:"factoryCartoOperatorFonction",components:{TableAllUserFonction:p["a"]}})],f);var b=f,y=b,v=a("2877"),k=Object(v["a"])(y,i,s,!1,null,null,null);t["default"]=k.exports}}]);